{% extends 'base.html' %}

{% block title %}Список статей{% endblock %}

{% block content %}
  <h2>Список статей</h2>

  <form method="GET">
    <input type="text" name="q" value="{{ query }}" placeholder="Поиск..." />
    <button type="submit">Поиск</button>
  </form>

  <div>
    <label>Сортировать по:</label>
    <a href="?sort_by=date&q={{ query }}">Дате</a> |
    <a href="?sort_by=author&q={{ query }}">Автору</a> |
    <a href="?sort_by=tags&q={{ query }}">Тегам</a>
  </div>

  <ul>
    {% for article in articles %}
      <li>
        <a href="{% url 'article_detail' article.id %}">{{ article.title }}</a>
        <p>Автор: {{ article.author }} | Дата: {{ article.date_published }} | Теги: {{ article.tags }}</p>
      </li>
    {% empty %}
      <li>Нет статей.</li>
    {% endfor %}
  </ul>
{% endblock %}
